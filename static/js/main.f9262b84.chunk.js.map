{"version":3,"sources":["Components/Products.js","Components/Nav.js","App.js","index.js"],"names":["GET_PRODUCTS_QUERY","gql","graphql","setCartItems","cartItems","setActive","active","currency","setCurrencies","setCurrency","currencies","useQuery","variables","loading","error","data","useEffect","length","cart","map","cartItem","newProducts","products","filter","product","id","price","message","addToCart","duplicates","find","item","quantity","title","image_url","console","log","className","src","alt","href","onClick","e","Nav","client","ApolloClient","uri","cache","InMemoryCache","App","useState","removeFromCart","productID","updatedCart","name","value","onChange","target","defaultValue","index","itemToDecrement","decrement","reduce","total","num","getSubTotal","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8dAIA,IAAMA,EAAqBC,cAAH,KA2ETC,wBAAQF,EAARE,EA7Df,YAA4G,IAAzFC,EAAwF,EAAxFA,aAAaC,EAA2E,EAA3EA,UAAiBC,GAA0D,EAAjEC,OAAiE,EAA1DD,WAAUE,EAAgD,EAAhDA,SAAgCC,GAAgB,EAAvCC,YAAuC,EAA3BC,WAA2B,EAAhBF,eAAgB,EACxEG,mBAASX,EAAoB,CAACY,UAAW,CAACL,SAAUA,KAA7EM,EADiG,EACjGA,QAASC,EADwF,EACxFA,MAAOC,EADiF,EACjFA,KAoBxB,GAlBEC,qBAAU,WACN,GAAID,IACFP,EAAcO,EAAKR,UAEfH,EAAUa,QAAQ,CACpB,IAAMC,EAAOd,EAAUe,KAAI,SAAAC,GACzB,IAAMC,EAAcN,EAAKO,SAASC,QAAO,SAAAC,GAAO,OAAIA,EAAQC,KAAOL,EAASK,MAG5E,OAFAL,EAASM,MAAQL,EAAY,GAAGK,MAEzBN,KAGTjB,EAAae,MAIhB,CAACH,IAEJF,EAAS,MAAO,sBACpB,GAAIC,EAAO,MAAM,UAAN,OAAiBA,EAAMa,SAElC,IAIMC,EAAU,SAACJ,GAHfnB,EAAU,EAAC,IAMX,IAAMwB,EAAazB,EAAU0B,MAAK,SAAAC,GAAI,OAAEA,EAAKN,KAAKD,EAAQC,MACvDI,GACCA,EAAWG,WACX7B,EAAa,YAAIC,KAEjBD,EAAa,GAAD,mBAAKC,GAAL,CAAe,CAACqB,GAAGD,EAAQC,GAAGQ,MAAMT,EAAQS,MACxDC,UAAUV,EAAQU,UAAUF,SAAS,EAAEN,MAAMF,EAAQE,UAEzDS,QAAQC,IAAIhC,IAKZ,OACI,qBAAKiC,UAAU,eAAf,SAEKtB,EAAKO,SAASH,KAAI,SAAAK,GAAO,OAC1B,sBAAsBa,UAAU,oBAAhC,UACI,qBAAKC,IAAKd,EAAQU,UAAWK,IAAI,0BACjCF,UAAU,6BACV,mBAAGA,UAAU,0BAAb,SAAwCb,EAAQS,QACpD,oBAAGI,UAAU,2BAAb,UAAyC9B,EAAUiB,EAAQE,SACvD,mBAAGc,KAAK,IAAIH,UAAU,cAAcI,QAAS,SAACC,GAAD,OAAKd,EAAUJ,IAA5D,2BALMA,EAAQC,YCzCfkB,MAvBf,WACI,OACI,gCACI,sBAAKN,UAAU,WAAf,UACI,qBAAKC,IAAI,mBAAmBC,IAAI,OAAOF,UAAU,eAEjD,qBAAIA,UAAU,YAAd,UACI,oBAAIA,UAAU,kBAAd,kBACA,oBAAIA,UAAU,kBAAd,yBAIR,qBAAKA,UAAU,YAAf,SACI,qBAAIA,UAAU,cAAd,UACI,oBAAIA,UAAU,oBAAd,qBACA,oBAAIA,UAAU,oBAAd,2BCTdO,EAAS,IAAIC,eAAa,CAC9BC,IAAK,gDACLC,MAAO,IAAIC,kBA0HEC,MAvHf,WAAgB,IAAD,EAEmBC,mBAAS,IAF5B,mBAEP9C,EAFO,KAEGD,EAFH,OAGa+C,oBAAS,GAHtB,mBAGP5C,EAHO,KAGAD,EAHA,OAImB6C,mBAAS,OAJ5B,mBAIN3C,EAJM,KAIIE,EAJJ,OAKuByC,mBAAS,IALhC,mBAKNxC,EALM,KAKMF,EALN,KASP2C,EAAe,SAACC,GACrB,IAAMC,EAAcjD,EAAUmB,QAAO,SAAAQ,GAAI,OAAEA,EAAKN,KAAK2B,KACrDjD,EAAa,YAAIkD,KAmClB,OACE,cAAC,iBAAD,CAAgBT,OAAQA,EAAxB,SACE,sBAAKP,UAAU,MAAf,UACE,cAAC,EAAD,IACA,sBAAKA,UAAU,eAAf,UACE,gCACE,8CACA,sCAAQ,oCAAR,uBAEF,8BACE,wBAAQiB,KAAK,SAAS7B,GAAG,SAAzB,SACE,wBAAQ8B,MAAM,YAAd,8BAKN,cAAC,EAAD,CAAUnD,UAAWA,EAAWD,aAAcA,EAC9CG,OAAQA,EAAQD,UAAWA,EAAWE,SAAUA,EAAUG,WAAYA,EACtED,YAAaA,EAAaD,cAAeA,IAIzC,sBAAK6B,UAAW/B,EAAO,sBAAsB,wBAA7C,UACC,qBAAK+B,UAAU,yBACZ,uBAAOA,UAAU,oBAAjB,UACI,sBAAKA,UAAU,mBAAf,UACI,qBAAKC,IAAI,oBAAoBC,IAAI,cAAcF,UAAU,cAAcI,QA3BpE,kBAAIpC,GAAU,MA4BjB,6CAEJ,qBAAKgC,UAAU,wBAAf,SACE,yBAAQiB,KAAK,WAAYE,SAAU,SAACd,GAAD,OAAOjC,EAAYiC,EAAEe,OAAOF,QAA/D,UACE,wBAAQG,cAAY,EAApB,SAAsBnD,IACrBG,EAAWS,KAAI,SAACoC,EAAOI,GAAR,OAAkB,wBAAoBJ,MAAOA,EAA3B,SAAmCA,GAAtBI,WAGnD,qBAAKtB,UAAU,wBAAf,SACGjC,EAAUe,KAAI,SAAAY,GAAI,OACjB,sBAAmBM,UAAU,YAA7B,UACI,mBAAGA,UAAU,kBAAb,SAAgCN,EAAKE,QACrC,sBAAKI,UAAU,iBAAf,UACI,sBAAMA,UAAU,YAAYI,QAAS,kBAvE9ChB,EAuE4DM,EAAKN,GAtExDrB,EAAU0B,MAAK,SAAAC,GAAI,OAAEA,EAAKN,KAAKA,KACvCO,UAAU,OAC1B7B,EAAa,YAAIC,IAHH,IAACqB,GAuES,eACA,sBAAMY,UAAU,MAAhB,SAAuBN,EAAKC,WAC5B,sBAAMK,UAAU,YAAYI,QAAS,kBAlE/C,SAAChB,GACf,IAAMmC,EAAkBxD,EAAU0B,MAAK,SAAAC,GAAI,OAAEA,EAAKN,KAAKA,KACvDmC,EAAgB5B,UAAU,EACvB4B,EAAgB5B,SAAS,EACzBmB,EAAe1B,GAEhBtB,EAAa,YAAIC,IA4D8CyD,CAAU9B,EAAKN,KAAxD,kBAEJ,qBAAKY,UAAU,mBAAf,SACI,qBAAKC,IAAKP,EAAKG,UAAWK,IAAI,UAAUF,UAAU,YAE5D,mBAAGA,UAAU,mBAAb,SAAiCN,EAAKL,MAAMK,EAAKC,WAC3C,mBAAGK,UAAU,QAAQI,QAAS,SAACC,GAAD,OAAKS,EAAepB,EAAKN,KAAvD,iBAXMM,EAAKN,SAenB,sBAAKY,UAAU,cAAf,UACE,sBAAKA,UAAU,WAAf,UACE,yCACF,oBAAGA,UAAU,kBAAb,UAA2C,QAAX9B,EAAiB,IAAIA,EApEnD,WAChB,GAAGH,EAAUa,OAAO,EAKlB,OAJkBb,EAAUe,KAAI,SAAAY,GAAI,OAAEA,EAAKC,SAASD,EAAKL,SAC9BoC,QAAO,SAACC,EAAOC,GACxC,OAAOD,EAAQC,KAgE0DC,SAE/D,8BACE,wBAAQ5B,UAAU,eAAlB,kDAEF,8BACE,wBAAQA,UAAU,WAAlB,kDCjHpB6B,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.f9262b84.chunk.js","sourcesContent":["import React,{useEffect} from 'react'\nimport { gql,useQuery } from '@apollo/client';\nimport { graphql } from '@apollo/client/react/hoc';\n\nconst GET_PRODUCTS_QUERY = gql`\n\tquery Products($currency: Currency) {\n\t\tproducts {\n\t\t\tid\n\t\t\ttitle\n\t\t\timage_url\n\t\t\tprice(currency: $currency)\n\t\t}\n\t\tcurrency\n\t}\n`\n\n\n\nfunction Products({setCartItems,cartItems,active,setActive,currency,setCurrency,currencies,setCurrencies}) {\n  const { loading, error, data } = useQuery(GET_PRODUCTS_QUERY, {variables: {currency: currency}});\n\n    useEffect(() => {\n        if (data) {\n          setCurrencies(data.currency);   \n        \n          if (cartItems.length) {\n            const cart = cartItems.map(cartItem => {\n              const newProducts = data.products.filter(product => product.id === cartItem.id);\n              cartItem.price = newProducts[0].price;\n    \n              return cartItem;\n            });\n    \n            setCartItems(cart);\n          }\n\n        };\n      }, [data])\n\n  if (loading) return 'Loading Products...';\n  if (error) return `Error! ${error.message}`;\n\n  const toggleClass=()=>{\n    setActive([true])\n};\n//Adds items/products to the cart\n  const addToCart=(product)=>{\n    toggleClass()\n\n    const duplicates = cartItems.find(item=>item.id===product.id)\n    if(duplicates){\n        duplicates.quantity++\n        setCartItems([...cartItems])\n    }else{\n        setCartItems([...cartItems,{id:product.id,title:product.title,\n        image_url:product.image_url,quantity:1,price:product.price}])\n    }\n    console.log(cartItems)\n}\n\n\n\n    return (\n        <div className=\"product-grid\">\n            \n            {data.products.map(product=>(\n            <div key={product.id} className=\"product-grid-item\">\n                <img src={product.image_url} alt=\"Classic Maintenance Set\" \n                className=\"product-grid-item__image\"/>\n                <p className=\"product-grid-item__name\">{product.title}</p>\n            <p className=\"product-grid-item__price\">{currency}{product.price}</p>\n                <a href=\"#\" className=\"add-to-cart\" onClick={(e)=>addToCart(product)}>Add To Cart</a>\n                \n            </div>\n            ))}\n        </div>\n    )\n}\n\nexport default graphql(GET_PRODUCTS_QUERY)(Products)\n","import React from 'react'\n\nfunction Nav(){\n    return(\n        <nav>\n            <div className=\"left-nav\">\n                <img src=\"./lumin-logo.png\" alt=\"logo\" className=\"lumin-logo\"/>\n            \n                <ul className=\"nav-items\">\n                    <li className=\"nav-items-links\">Shop</li>\n                    <li className=\"nav-items-links\">Learn</li>\n                    \n                </ul>\n            </div>\n            <div className=\"right-nav\">\n                <ul className=\"nav-options\">\n                    <li className=\"nav-options-links\">Account</li>\n                    <li className=\"nav-options-links\">Cart</li>\n                </ul>\n            </div>\n\n        </nav>\n    )\n}\n\nexport default Nav","import './App.css';\nimport Products from './Components/Products';\nimport Nav from './Components/Nav'\nimport { ApolloProvider } from '@apollo/client';\nimport { ApolloClient, InMemoryCache } from '@apollo/client';\nimport { useState } from 'react';\n\n\nconst client = new ApolloClient({\n  uri: 'https://pangaea-interviews.now.sh/api/graphql',\n  cache: new InMemoryCache()\n});\n\nfunction App() {\n\n  const[cartItems,setCartItems] = useState([])\n  const[active,setActive] = useState(false)\n  const [currency, setCurrency] = useState('USD');\n  const [currencies, setCurrencies] = useState([]);\n\n \n  //deletes item from the cart\n  const removeFromCart=(productID)=>{\n   const updatedCart = cartItems.filter(item=>item.id!==productID)\n   setCartItems([...updatedCart])\n  }\n\n  //increases quantity of an item\n  const increment=(id)=>{\n    const itemToIncrement = cartItems.find(item=>item.id===id)\n    itemToIncrement.quantity+=1\n    setCartItems([...cartItems])\n  }\n\n  //decreases quantity of an item\n  const decrement=(id)=>{\n    const itemToDecrement = cartItems.find(item=>item.id===id)\n    itemToDecrement.quantity-=1\n    if(itemToDecrement.quantity<1){\n       removeFromCart(id)\n    }else{\n      setCartItems([...cartItems])\n    }\n   \n  }\n  //calculates the subtotal of all items in the cart\n  const getSubTotal=()=>{\n    if(cartItems.length>0){\n      const priceList = cartItems.map(item=>item.quantity*item.price)\n      const subTotal = priceList.reduce((total, num)=> {\n        return total + num;\n      })\n      return subTotal\n    }\n  }\n\n\n\n  const removeCartPage=()=>setActive(false)\n  return (\n    <ApolloProvider client={client}>\n      <div className=\"App\">\n        <Nav />\n        <div className=\"all-products\">\n          <div>\n            <h1>All Products</h1>\n            <p>A 360<sup>o</sup> look at Lumin</p>\n          </div>\n          <div>\n            <select name=\"filter\" id=\"filter\">\n              <option value=\"Filter By\">Filter By</option>\n            </select>\n          </div>\n\n        </div>\n        <Products cartItems={cartItems} setCartItems={setCartItems} \n        active={active} setActive={setActive} currency={currency} currencies={currencies}\n        setCurrency={setCurrency} setCurrencies={setCurrencies}/> \n       \n        \n\n        <div className={active?'cart-details-active':'cart-details-inactive'}>\n         <div className=\"cart-details-overlay\"></div>\n            <form  className=\"cart-details-form\">\n                <div className=\"cart-details-nav\">\n                    <img src=\"./back-button.png\" alt=\"back button\" className=\"back-button\" onClick={removeCartPage}/>\n                    <p>YOUR CART</p>\n                </div>\n                <div className=\"cart-details-currency\">\n                  <select name=\"currency\"  onChange={(e) => setCurrency(e.target.value)}>\n                    <option defaultValue>{currency}</option>\n                    {currencies.map((value, index) => <option key={index} value={value}>{value}</option>)}\n                  </select>\n                </div>\n                <div className=\"cart-details-products\">\n                  {cartItems.map(item=>(\n                    <div key={item.id} className=\"cart-item\">\n                        <p className=\"cart-item__name\">{item.title}</p>\n                        <div className=\"cart-item__qty\">\n                            <span className=\"increment\" onClick={()=>increment(item.id)}>+</span>\n                            <span className=\"qty\">{item.quantity}</span>\n                            <span className=\"decrement\" onClick={()=>decrement(item.id)}>-</span>\n                        </div>\n                        <div className=\"cart-item__image\">\n                            <img src={item.image_url} alt=\"product\" className=\"image\"/>\n                        </div>\n                  <p className=\"cart-item__price\">{item.price*item.quantity}</p>\n                        <p className=\"close\" onClick={(e)=>removeFromCart(item.id)}>X</p>\n                    </div>\n                  ))}\n                </div>\n                <div className=\"cart-footer\">\n                  <div className=\"subtotal\">\n                    <p>Subtotal</p>\n                  <p className=\"subtotal-amount\">{currency==='USD'?'$':currency}{getSubTotal()}</p>\n                  </div>\n                  <div >\n                    <button className=\"subscription\">MAKE THIS A SUBSCRIPTION(SAVE 20%)</button>\n                  </div>\n                  <div >\n                    <button className=\"checkout\">PROCEED TO CHECKOUT</button>\n                  </div>\n                </div>\n            </form> \n        </div>\n\n      </div>\n    </ApolloProvider>\n\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n  \n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}